@model List<SoftwareEngineeringProject.Models.Order>

@{
    ViewData["Title"] = "Orders";
}

<!-- Navbar (sit on top) -->
<div class="w3-top w3-hide-small">
    <div class="w3-bar w3-xlarge w3-white w3-opacity w3-hover-opacity-off" id="myNavbar">
        <a class="w3-bar-item w3-button" asp-area="" asp-controller="Home" asp-action="Index">Menu</a>
        <a class="w3-bar-item w3-button" asp-area="" asp-controller="Home" asp-action="CartView">My Cart</a>
        <a class="w3-bar-item w3-button" asp-area="" asp-controller="Home" asp-action="Orders">Previous Orders</a>
    </div>
</div>

<div class="w3-container w3-red w3-padding-64 w3-xxlarge">
    <div class="w3-content">
        <h1 class="w3-center w3-jumbo" style="margin-bottom:64px">PREVIOUS ORDERS</h1>
        <div class="w3-row w3-center w3-border w3-border-dark-grey">
            <div class="w3-padding-large">
                <div class="w3-white">

                    <!--Below is the for loop which allows this page to dislay every order created durring the session-->
                    @{
                        foreach (var item in Model)
                        {
                            <div>
                                <h1>
                                    Name: @item.Name
                                </h1>
                                <h1>
                                    Address: @item.Address
                                </h1>
                                <h1>
                                    Time: @item.TimeOfOrder
                                </h1>
                                <hr />
                            </div>

                            <!--Below is the for loop which allows this page to display all items in this specific order-->
                            foreach (var item2 in item.Contents)
                            {
                                <div class="flex-container">
                                    <div class="menu-item--name" style="width:650px;text-align:left;">
                                        <b>
                                            @item2.food_name
                                        </b>
                                    </div>
                                    <div class="menu-item--price" style="width:100px;text-align:right;">
                                        <span class="w3-tag w3-dark-grey w3-round">
                                            @item2.price
                                        </span>
                                    </div>
                                </div>
                                <hr />
                            }

                            <!--Below we use the Math library to round each value to two decimal places.
                            This is due to occasional errors we had where the program would use more than two decimals when displaying the total price-->
                            <div class="menu-item--price flex-container w3-text-grey">
                                <span class="w3-tag w3-dark-grey w3-round">
                                    Total: @Math.Round(item.Total, 2)
                                </span>
                            </div>
                            <hr style="height:2px;border-width:0;color:gray;background-color:gray" />
                        }
                    }
                </div>
            </div>
        </div>
    </div>
</div>